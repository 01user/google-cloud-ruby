<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <title>Gcloud::Storage::Bucket &mdash; Gcloud Documentation</title>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/gcloud-ruby/css/normalize.css">
<link rel="stylesheet" href="/gcloud-ruby/css/main.css">
<script src="/gcloud-ruby/js/vendor/modernizr-2.6.2.min.js"></script>
<link href='//fonts.googleapis.com/css?family=Droid+Sans+Mono|Roboto:300,400,700,700italic,400italic|Open+Sans:300' rel='stylesheet' type='text/css'>
<link rel="shortcut icon" href="https://cloud.google.com/images/gcp-favicon.ico">

  </head>

  <body class="lang-page">
    <!--[if lt IE 7]>
  <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->

<header class="page-header fixed" role="banner">
  <h1 class="logo">
    <a href="/gcloud-ruby/" title="back to home">
      <img src="/gcloud-ruby/img/logo.svg" alt="Google Cloud Platform">
      <span class="gcloud">gcloud</span>
    </a>
  </h1>

  <nav class="main-nav">
    <div class="nav-current">Ruby</div>
    <ul class="menu">
      <li>
        <a href="/gcloud-java/" title="gcloud-java">
          <img src="/gcloud-ruby/img/icon-lang-java.svg" alt="Java icon" class="menu-icon" />
          Java
        </a>
      </li>
      <li>
        <a href="/gcloud-node/#/docs" title="gcloud-node">
          <img src="/gcloud-ruby/img/icon-lang-nodejs.svg" alt="Node.js icon" class="menu-icon">
          Node.js
        </a>
      </li>
      <li>
        <a href="/gcloud-python/latest/" title="gcloud-python">
          <img src="/gcloud-ruby/img/icon-lang-python.svg" alt="Python icon" class="menu-icon">
          Python
        </a>
      </li>
      <li>
        <a href="/gcloud-ruby/" title="gcloud-ruby">
          <img src="/gcloud-ruby/img/icon-lang-ruby.svg" alt="Ruby icon" class="menu-icon" width="24">
          Ruby
        </a>
      </li>
    </ul>
  </nav>

  <div class="github-issue">
    <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby/issues/new?title=%5BDocumentation+Issue%5D+" target="_blank" class="v-btn">
      <img src="/gcloud-ruby/img/icon-link-github.svg" />
      Report an Issue
    </a>
  </div>
</header>


    <article class="main lang-page" role="main">

      <header class="docs-header">
        <h1 class="page-title">Gcloud::Storage::Bucket</h1>
      </header>

      <section class="content">

        <div id="description" class="description">
          
<h1 id="class-Gcloud::Storage::Bucket-label-Bucket"><a href="Bucket.html">Bucket</a><span><a href="#class-Gcloud::Storage::Bucket-label-Bucket">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>Represents a <a href="../Storage.html">Storage</a> bucket. Belongs to a <a
href="Project.html">Project</a> and has many Files.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>
<span class="ruby-identifier">file</span> = <span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">file</span> <span class="ruby-string">&quot;path/to/my-file.ext&quot;</span>
</pre>

        </div>

        <div class="section-links">
  
    <div>
      Parent:
      
        Object
      
    </div>
  

  

  
    
      <div>
         Methods:

        
        

        
        
            
              <a href="#method-i-acl">acl</a>
            
              <a href="#method-i-api_url">api_url</a>
            
              <a href="#method-i-cors">cors</a>
            
              <a href="#method-i-cors-3D">cors=</a>
            
              <a href="#method-i-create_file">create_file</a>
            
              <a href="#method-i-created_at">created_at</a>
            
              <a href="#method-i-default_acl">default_acl</a>
            
              <a href="#method-i-delete">delete</a>
            
              <a href="#method-i-file">file</a>
            
              <a href="#method-i-files">files</a>
            
              <a href="#method-i-find_file">find_file</a>
            
              <a href="#method-i-find_files">find_files</a>
            
              <a href="#method-i-id">id</a>
            
              <a href="#method-i-kind">kind</a>
            
              <a href="#method-i-location">location</a>
            
              <a href="#method-i-logging_bucket">logging_bucket</a>
            
              <a href="#method-i-logging_bucket-3D">logging_bucket=</a>
            
              <a href="#method-i-logging_prefix">logging_prefix</a>
            
              <a href="#method-i-logging_prefix-3D">logging_prefix=</a>
            
              <a href="#method-i-name">name</a>
            
              <a href="#method-i-new_file">new_file</a>
            
              <a href="#method-i-refresh-21">refresh!</a>
            
              <a href="#method-i-reload-21">reload!</a>
            
              <a href="#method-i-storage_class">storage_class</a>
            
              <a href="#method-i-update">update</a>
            
              <a href="#method-i-upload_file">upload_file</a>
            
              <a href="#method-i-versioning-3D">versioning=</a>
            
              <a href="#method-i-versioning-3F">versioning?</a>
            
              <a href="#method-i-website_404">website_404</a>
            
              <a href="#method-i-website_404-3D">website_404=</a>
            
              <a href="#method-i-website_main">website_main</a>
            
              <a href="#method-i-website_main-3D">website_main=</a>
            
          
        

      </div>
    
  
</div>


        
          
            <h2 id="5Buntitled-5D"> Methods</h2>












    <div id="public-instance-methods" class="section">
      <h3 class="section-header">Public Instance Methods</h3>

      <div class="methods">
        
          <div id="acl-method" class="method ">
  <a name="method-i-acl"></a>

  
    <h4>
      <code>acl()</code>
      <span>
        <a href="#method-i-acl">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The <a href="Bucket/Acl.html">Bucket::Acl</a> instance used to control
access to the bucket.</p>

<p>A bucket has owners, writers, and readers. Permissions can be granted to an
individual user&#39;s email address, a group&#39;s email address, as well
as many predefined lists. See the <a
href="https://cloud.google.com/storage/docs/access-control">Access Control
guide </a> for more.</p>

<h3 id="method-i-acl-label-Examples">Examples<span><a href="#method-i-acl-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Access to a bucket can be granted to a user by appending +“user-”+ to the
email address:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-todo-app&quot;</span>

<span class="ruby-identifier">email</span> = <span class="ruby-string">&quot;heidi@example.net&quot;</span>
<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">acl</span>.<span class="ruby-identifier">add_reader</span> <span class="ruby-node">&quot;user-#{email}&quot;</span>
</pre>

<p>Access to a bucket can be granted to a group by appending +“group-”+ to the
email address:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-todo-app&quot;</span>

<span class="ruby-identifier">email</span> = <span class="ruby-string">&quot;authors@example.net&quot;</span>
<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">acl</span>.<span class="ruby-identifier">add_reader</span> <span class="ruby-node">&quot;group-#{email}&quot;</span>
</pre>

<p>Access to a bucket can also be granted to a predefined list of permissions:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-todo-app&quot;</span>

<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">acl</span>.<span class="ruby-identifier">public!</span>
</pre>
    

    
      <!-- <div class="method-source-code" id="acl-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 675</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">acl</span>
  <span class="ruby-ivar">@acl</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Bucket</span><span class="ruby-operator">::</span><span class="ruby-constant">Acl</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="api_url-method" class="method ">
  <a name="method-i-api_url"></a>

  
    <h4>
      <code>api_url()</code>
      <span>
        <a href="#method-i-api_url">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>A URL that can be used to access the bucket using the REST API.</p>
    

    
      <!-- <div class="method-source-code" id="api_url-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">api_url</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;selfLink&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="cors-method" class="method ">
  <a name="method-i-cors"></a>

  
    <h4>
      <code>cors()</code>
      <span>
        <a href="#method-i-cors">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Returns the current CORS configuration for a static website served from the
bucket. For more information, see <a
href="https://cloud.google.com/storage/docs/cross-origin">Cross-Origin
Resource Sharing (CORS)</a>. The return value is a frozen (unmodifiable)
array of hashes containing the attributes specified for the <a
href="Bucket.html">Bucket</a> resource field <a
href="https://cloud.google.com/storage/docs/json_api/v1/buckets#cors">cors</a>.</p>

<p>This method also accepts a block for updating the bucket&#39;s CORS rules.
See <a href="Bucket/Cors.html">Bucket::Cors</a> for details.</p>

<h3 id="method-i-cors-label-Examples">Examples<span><a href="#method-i-cors-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Retrieving the bucket&#39;s CORS rules.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-todo-app&quot;</span>
<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">cors</span> <span class="ruby-comment">#=&gt; [{&quot;origin&quot;=&gt;[&quot;http://example.org&quot;],</span>
            <span class="ruby-comment">#     &quot;method&quot;=&gt;[&quot;GET&quot;,&quot;POST&quot;,&quot;DELETE&quot;],</span>
            <span class="ruby-comment">#     &quot;responseHeader&quot;=&gt;[&quot;X-My-Custom-Header&quot;],</span>
            <span class="ruby-comment">#     &quot;maxAgeSeconds&quot;=&gt;3600}]</span>
</pre>

<p>Updating the bucket&#39;s CORS rules inside a block.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>
<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-todo-app&quot;</span>

<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">update</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">b</span>.<span class="ruby-identifier">cors</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">add_rule</span> [<span class="ruby-string">&quot;http://example.org&quot;</span>, <span class="ruby-string">&quot;https://example.org&quot;</span>],
               <span class="ruby-string">&quot;*&quot;</span>,
               <span class="ruby-identifier">response_headers</span><span class="ruby-operator">:</span> [<span class="ruby-string">&quot;X-My-Custom-Header&quot;</span>],
               <span class="ruby-identifier">max_age</span><span class="ruby-operator">:</span> <span class="ruby-value">3600</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
    

    
      <!-- <div class="method-source-code" id="cors-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cors</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
    <span class="ruby-identifier">cors_builder</span> = <span class="ruby-constant">Bucket</span><span class="ruby-operator">::</span><span class="ruby-constant">Cors</span>.<span class="ruby-identifier">new</span> <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;cors&quot;</span>]
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">cors_builder</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">cors</span> = <span class="ruby-identifier">cors_builder</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">cors_builder</span>.<span class="ruby-identifier">changed?</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">deep_dup_and_freeze</span> <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;cors&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="cors-3D-method" class="method ">
  <a name="method-i-cors-3D"></a>

  
    <h4>
      <code>cors=(new_cors)</code>
      <span>
        <a href="#method-i-cors-3D">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Updates the CORS configuration for a static website served from the bucket.
For more information, see <a
href="https://cloud.google.com/storage/docs/cross-origin">Cross-Origin
Resource Sharing (CORS)</a>. Accepts an array of hashes containing the
attributes specified for the <a
href="https://cloud.google.com/storage/docs/json_api/v1/buckets#cors">resource
description of cors</a>.</p>
    

    
      <!-- <div class="method-source-code" id="cors-3D-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 143</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cors=</span> <span class="ruby-identifier">new_cors</span>
  <span class="ruby-identifier">patch_gapi!</span> <span class="ruby-identifier">cors</span><span class="ruby-operator">:</span> <span class="ruby-identifier">new_cors</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="create_file-method" class="method ">
  <a name="method-i-create_file"></a>

  
    <h4>
      <code>create_file(file, path = nil, acl: nil, cache_control: nil, content_disposition: nil, content_encoding: nil, content_language: nil, content_type: nil, chunk_size: nil, crc32c: nil, md5: nil, metadata: nil)</code>
      <span>
        <a href="#method-i-create_file">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Create a new <a href="File.html">File</a> object by providing a path to a
local file to upload and the path to store it with in the bucket.</p>

<h3 id="method-i-create_file-label-Parameters">Parameters<span><a href="#method-i-create_file-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h3>
<dl class="rdoc-list note-list"><dt><code>file</code>
<dd>
<p>Path of the file on the filesystem to upload. (<code>String</code>)</p>
</dd><dt><code>path</code>
<dd>
<p>Path to store the file in Google Cloud <a
href="../Storage.html">Storage</a>. (<code>String</code>)</p>
</dd><dt><code>acl</code>
<dd>
<p>A predefined set of access controls to apply to this file.
(<code>String</code>)</p>

<p>Acceptable values are:</p>
<ul><li>
<p><code>auth</code>, <code>auth_read</code>, <code>authenticated</code>,
<code>authenticated_read</code>, <code>authenticatedRead</code> - <a
href="File.html">File</a> owner gets OWNER access, and
allAuthenticatedUsers get READER access.</p>
</li><li>
<p><code>owner_full</code>, <code>bucketOwnerFullControl</code> - <a
href="File.html">File</a> owner gets OWNER access, and project team owners
get OWNER access.</p>
</li><li>
<p><code>owner_read</code>, <code>bucketOwnerRead</code> - <a
href="File.html">File</a> owner gets OWNER access, and project team owners
get READER access.</p>
</li><li>
<p><code>private</code> - <a href="File.html">File</a> owner gets OWNER
access.</p>
</li><li>
<p><code>project_private</code>, <code>projectPrivate</code> - <a
href="File.html">File</a> owner gets OWNER access, and project team members
get access according to their roles.</p>
</li><li>
<p><code>public</code>, <code>public_read</code>, <code>publicRead</code> - <a
href="File.html">File</a> owner gets OWNER access, and allUsers get READER
access.</p>
</li></ul>
</dd><dt><code>cache_control</code>
<dd>
<p>The <a
href="https://tools.ietf.org/html/rfc7234#section-5.2">Cache-Control</a>
response header to be returned when the file is downloaded.
(<code>String</code>)</p>
</dd><dt><code>content_disposition</code>
<dd>
<p>The <a href="https://tools.ietf.org/html/rfc6266">Content-Disposition</a>
response header to be returned when the file is downloaded.
(<code>String</code>)</p>
</dd><dt><code>content_encoding</code>
<dd>
<p>The <a
href="https://tools.ietf.org/html/rfc7231#section-3.1.2.2">Content-Encoding
</a> response header to be returned when the file is downloaded.
(<code>String</code>)</p>
</dd><dt><code>content_language</code>
<dd>
<p>The <a href="http://tools.ietf.org/html/bcp47">Content-Language</a>
response header to be returned when the file is downloaded.
(<code>String</code>)</p>
</dd><dt><code>content_type</code>
<dd>
<p>The <a
href="https://tools.ietf.org/html/rfc2616#section-14.17">Content-Type</a>
response header to be returned when the file is downloaded.
(<code>String</code>)</p>
</dd><dt><code>chunk_size</code>
<dd>
<p>The number of bytes per chunk in a resumable upload. Must be divisible by
256KB. If it is not divisible by 265KB then it will be lowered to the
nearest acceptable value. (<code>Integer</code>)</p>
</dd><dt><code>crc32c</code>
<dd>
<p>The CRC32c checksum of the file data, as described in <a
href="http://tools.ietf.org/html/rfc4960#appendix-B">RFC 4960, Appendix
B</a>. If provided, Cloud <a href="../Storage.html">Storage</a> will only
create the file if the value matches the value calculated by the service.
See <a
href="https://cloud.google.com/storage/docs/hashes-etags">Validation</a>
for more information. (<code>String</code>)</p>
</dd><dt><code>md5</code>
<dd>
<p>The MD5 hash of the file data. If provided, Cloud <a
href="../Storage.html">Storage</a> will only create the file if the value
matches the value calculated by the service. See <a
href="https://cloud.google.com/storage/docs/hashes-etags">Validation</a>
for more information. (<code>String</code>)</p>
</dd><dt><code>metadata</code>
<dd>
<p>A hash of custom, user-provided web-safe keys and arbitrary string values
that will returned with requests for the file as “x-goog-meta-” response
headers. (<code>Hash</code>)</p>
</dd></dl>

<h3 id="method-i-create_file-label-Returns">Returns<span><a href="#method-i-create_file-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><a href="File.html">Gcloud::Storage::File</a></p>

<h3 id="method-i-create_file-label-Examples">Examples<span><a href="#method-i-create_file-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>

<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">create_file</span> <span class="ruby-string">&quot;path/to/local.file.ext&quot;</span>
</pre>

<p>Additionally, a destination path can be specified.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>

<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">create_file</span> <span class="ruby-string">&quot;path/to/local.file.ext&quot;</span>,
                   <span class="ruby-string">&quot;destination/path/file.ext&quot;</span>
</pre>

<p>A <code>chunk_size</code> value can be provided in the options to be used
in resumable uploads. This value is the number of bytes per chunk and must
be divisible by 256KB. If it is not divisible by 265KB then it will be
lowered to the nearest acceptable value.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>

<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">create_file</span> <span class="ruby-string">&quot;path/to/local.file.ext&quot;</span>,
                   <span class="ruby-string">&quot;destination/path/file.ext&quot;</span>,
                   <span class="ruby-identifier">chunk_size</span><span class="ruby-operator">:</span> <span class="ruby-value">1024</span><span class="ruby-operator">*</span><span class="ruby-value">1024</span> <span class="ruby-comment"># 1 MB chunk</span>
</pre>

<h4 id="method-i-create_file-label-Troubleshooting+large+uploads">Troubleshooting large uploads<span><a href="#method-i-create_file-label-Troubleshooting+large+uploads">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>You may encounter errors while attempting to upload large files. Below are
a couple of common cases and their solutions.</p>

<h5 id="method-i-create_file-label-Handling+memory+errors">Handling memory errors<span><a href="#method-i-create_file-label-Handling+memory+errors">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>If you encounter a memory error such as <code>NoMemoryError</code>, try
performing a resumable upload and setting the <code>chunk_size</code>
option to a value that works for your environment, as explained in the
final example above.</p>

<h5 id="method-i-create_file-label-Handling+broken+pipe+errors">Handling broken pipe errors<span><a href="#method-i-create_file-label-Handling+broken+pipe+errors">&para;</a> <a href="#top">&uarr;</a></span></h5>

<p>To avoid broken pipe (<code>Errno::EPIPE</code>) errors when uploading, add
the <a href="https://rubygems.org/gems/httpclient">httpclient</a> gem to
your project, and the configuration shown below. These lines must execute
after you require gcloud but before you make your first gcloud connection.
The first statement configures <a
href="https://rubygems.org/gems/faraday">Faraday</a> to use httpclient. The
second statement, which should only be added if you are using a version of
Faraday at or above 0.9.2, is a workaround for <a
href="https://github.com/GoogleCloudPlatform/gcloud-ruby/issues/367">this
gzip issue</a>.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-comment"># Use httpclient to avoid broken pipe errors with large uploads</span>
<span class="ruby-constant">Faraday</span>.<span class="ruby-identifier">default_adapter</span> = :<span class="ruby-identifier">httpclient</span>

<span class="ruby-comment"># Only add the following statement if using Faraday &gt;= 0.9.2</span>
<span class="ruby-comment"># Override gzip middleware with no-op for httpclient</span>
<span class="ruby-constant">Faraday</span><span class="ruby-operator">::</span><span class="ruby-constant">Response</span>.<span class="ruby-identifier">register_middleware</span> :<span class="ruby-identifier">gzip</span> =<span class="ruby-operator">&gt;</span>
                                        <span class="ruby-constant">Faraday</span><span class="ruby-operator">::</span><span class="ruby-constant">Response</span><span class="ruby-operator">::</span><span class="ruby-constant">Middleware</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>
</pre>
    

    
      <!-- <div class="method-source-code" id="create_file-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 605</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_file</span> <span class="ruby-identifier">file</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">acl</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">cache_control</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
                <span class="ruby-identifier">content_disposition</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">content_encoding</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
                <span class="ruby-identifier">content_language</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">content_type</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">chunk_size</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>,
                <span class="ruby-identifier">crc32c</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">md5</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">metadata</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">acl</span><span class="ruby-operator">:</span> <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">Acl</span>.<span class="ruby-identifier">predefined_rule_for</span>(<span class="ruby-identifier">acl</span>), <span class="ruby-identifier">md5</span><span class="ruby-operator">:</span> <span class="ruby-identifier">md5</span>,
              <span class="ruby-identifier">cache_control</span><span class="ruby-operator">:</span> <span class="ruby-identifier">cache_control</span>, <span class="ruby-identifier">content_type</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content_type</span>,
              <span class="ruby-identifier">content_disposition</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content_disposition</span>, <span class="ruby-identifier">crc32c</span><span class="ruby-operator">:</span> <span class="ruby-identifier">crc32c</span>,
              <span class="ruby-identifier">content_encoding</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content_encoding</span>, <span class="ruby-identifier">chunk_size</span><span class="ruby-operator">:</span> <span class="ruby-identifier">chunk_size</span>,
              <span class="ruby-identifier">content_language</span><span class="ruby-operator">:</span> <span class="ruby-identifier">content_language</span>, <span class="ruby-identifier">metadata</span><span class="ruby-operator">:</span> <span class="ruby-identifier">metadata</span> }
  <span class="ruby-identifier">ensure_file_exists!</span> <span class="ruby-identifier">file</span>
  <span class="ruby-identifier">resumable</span> = <span class="ruby-identifier">resumable_upload?</span>(<span class="ruby-identifier">file</span>)
  <span class="ruby-identifier">resp</span> = <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">upload_file</span> <span class="ruby-identifier">resumable</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">file</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>

  <span class="ruby-keyword">return</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">from_gapi</span>(<span class="ruby-identifier">resp</span>.<span class="ruby-identifier">data</span>, <span class="ruby-identifier">connection</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
  <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  
    <div class="aliases">
      Also aliased as: <a href="Bucket.html#method-i-upload_file">upload_file</a>, <a href="Bucket.html#method-i-new_file">new_file</a>
    </div>
  

  
</div>

        
          <div id="created_at-method" class="method ">
  <a name="method-i-created_at"></a>

  
    <h4>
      <code>created_at()</code>
      <span>
        <a href="#method-i-created_at">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Creation time of the bucket.</p>
    

    
      <!-- <div class="method-source-code" id="created_at-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 80</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">created_at</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;timeCreated&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="default_acl-method" class="method ">
  <a name="method-i-default_acl"></a>

  
    <h4>
      <code>default_acl()</code>
      <span>
        <a href="#method-i-default_acl">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The <a href="Bucket/DefaultAcl.html">Bucket::DefaultAcl</a> instance used
to control access to the bucket&#39;s files.</p>

<p>A bucket&#39;s files have owners, writers, and readers. Permissions can be
granted to an individual user&#39;s email address, a group&#39;s email
address, as well as many predefined lists. See the <a
href="https://cloud.google.com/storage/docs/access-control">Access Control
guide </a> for more.</p>

<h3 id="method-i-default_acl-label-Examples">Examples<span><a href="#method-i-default_acl-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Access to a bucket&#39;s files can be granted to a user by appending
+“user-”+ to the email address:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-todo-app&quot;</span>

<span class="ruby-identifier">email</span> = <span class="ruby-string">&quot;heidi@example.net&quot;</span>
<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">default_acl</span>.<span class="ruby-identifier">add_reader</span> <span class="ruby-node">&quot;user-#{email}&quot;</span>
</pre>

<p>Access to a bucket&#39;s files can be granted to a group by appending
+“group-”+ to the email address:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-todo-app&quot;</span>

<span class="ruby-identifier">email</span> = <span class="ruby-string">&quot;authors@example.net&quot;</span>
<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">default_acl</span>.<span class="ruby-identifier">add_reader</span> <span class="ruby-node">&quot;group-#{email}&quot;</span>
</pre>

<p>Access to a bucket&#39;s files can also be granted to a predefined list of
permissions:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-todo-app&quot;</span>

<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">default_acl</span>.<span class="ruby-identifier">public!</span>
</pre>
    

    
      <!-- <div class="method-source-code" id="default_acl-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 729</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_acl</span>
  <span class="ruby-ivar">@default_acl</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Bucket</span><span class="ruby-operator">::</span><span class="ruby-constant">DefaultAcl</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="delete-method" class="method ">
  <a name="method-i-delete"></a>

  
    <h4>
      <code>delete(retries: nil)</code>
      <span>
        <a href="#method-i-delete">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Permanently deletes the bucket. The bucket must be empty before it can be
deleted.</p>

<h3 id="method-i-delete-label-Parameters">Parameters<span><a href="#method-i-delete-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h3>
<dl class="rdoc-list note-list"><dt><code>retries</code>
<dd>
<p>The number of times the API call should be retried. Default is <a
href="../Backoff.html#attribute-c-retries">Gcloud::Backoff.retries</a>.
(<code>Integer</code>)</p>
</dd></dl>

<h3 id="method-i-delete-label-Returns">Returns<span><a href="#method-i-delete-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><code>true</code> if the bucket was deleted.</p>

<h3 id="method-i-delete-label-Examples">Examples<span><a href="#method-i-delete-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>
<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">delete</span>
</pre>

<p>The API call to delete the bucket may be retried under certain conditions.
See <a href="../Backoff.html">Gcloud::Backoff</a> to control this behavior,
or specify the wanted behavior in the call:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>
<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">retries</span><span class="ruby-operator">:</span> <span class="ruby-value">5</span>
</pre>
    

    
      <!-- <div class="method-source-code" id="delete-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 337</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete</span> <span class="ruby-identifier">retries</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">retries</span><span class="ruby-operator">:</span> <span class="ruby-identifier">retries</span> }
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">delete_bucket</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="file-method" class="method ">
  <a name="method-i-file"></a>

  
    <h4>
      <code>file(path, generation: nil)</code>
      <span>
        <a href="#method-i-file">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Retrieves a file matching the path.</p>

<h3 id="method-i-file-label-Parameters">Parameters<span><a href="#method-i-file-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h3>
<dl class="rdoc-list note-list"><dt><code>path</code>
<dd>
<p>Name (path) of the file. (<code>String</code>)</p>
</dd><dt><code>generation</code>
<dd>
<p>When present, selects a specific revision of this object. Default is the
latest version. (<code>Integer</code>)</p>
</dd></dl>

<h3 id="method-i-file-label-Returns">Returns<span><a href="#method-i-file-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><a href="File.html">Gcloud::Storage::File</a> or nil if file does not exist</p>

<h3 id="method-i-file-label-Example">Example<span><a href="#method-i-file-label-Example">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>

<span class="ruby-identifier">file</span> = <span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">file</span> <span class="ruby-string">&quot;path/to/my-file.ext&quot;</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">name</span>
</pre>
    

    
      <!-- <div class="method-source-code" id="file-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 448</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">file</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">generation</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">generation</span><span class="ruby-operator">:</span> <span class="ruby-identifier">generation</span> }
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">get_file</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">from_gapi</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">data</span>, <span class="ruby-identifier">connection</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  
    <div class="aliases">
      Also aliased as: <a href="Bucket.html#method-i-find_file">find_file</a>
    </div>
  

  
</div>

        
          <div id="files-method" class="method ">
  <a name="method-i-files"></a>

  
    <h4>
      <code>files(prefix: nil, token: nil, max: nil, versions: nil)</code>
      <span>
        <a href="#method-i-files">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Retrieves a list of files matching the criteria.</p>

<h3 id="method-i-files-label-Parameters">Parameters<span><a href="#method-i-files-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h3>
<dl class="rdoc-list note-list"><dt><code>prefix</code>
<dd>
<p>Filter results to files whose names begin with this prefix.
(<code>String</code>)</p>
</dd><dt><code>token</code>
<dd>
<p>A previously-returned page token representing part of the larger set of
results to view. (<code>String</code>)</p>
</dd><dt><code>max</code>
<dd>
<p>Maximum number of items plus prefixes to return. As duplicate prefixes are
omitted, fewer total results may be returned than requested. The default
value of this parameter is 1,000 items. (<code>Integer</code>)</p>
</dd><dt><code>versions</code>
<dd>
<p>If <code>true</code>, lists all versions of an object as distinct results.
The default is <code>false</code>. For more information, see <a
href="https://cloud.google.com/storage/docs/object-versioning">Object
Versioning </a>. (<code>Boolean</code>)</p>
</dd></dl>

<h3 id="method-i-files-label-Returns">Returns<span><a href="#method-i-files-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Array of <a href="File.html">Gcloud::Storage::File</a> (See <a
href="File/List.html">Gcloud::Storage::File::List</a>)</p>

<h3 id="method-i-files-label-Examples">Examples<span><a href="#method-i-files-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>
<span class="ruby-identifier">files</span> = <span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">files</span>
<span class="ruby-identifier">files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span>
</pre>

<p>If you have a significant number of files, you may need to paginate through
them: (See <a
href="File/List.html#attribute-i-token">Gcloud::Storage::File::List#token</a>)</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>

<span class="ruby-identifier">all_files</span> = []
<span class="ruby-identifier">tmp_files</span> = <span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">files</span>
<span class="ruby-keyword">while</span> <span class="ruby-identifier">tmp_files</span>.<span class="ruby-identifier">any?</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">tmp_files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">all_files</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">file</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># break loop if no more buckets available</span>
  <span class="ruby-keyword">break</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">tmp_files</span>.<span class="ruby-identifier">token</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-comment"># get the next group of files</span>
  <span class="ruby-identifier">tmp_files</span> = <span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">files</span> <span class="ruby-identifier">token</span><span class="ruby-operator">:</span> <span class="ruby-identifier">tmp_files</span>.<span class="ruby-identifier">token</span>
<span class="ruby-keyword">end</span>
</pre>
    

    
      <!-- <div class="method-source-code" id="files-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 409</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">files</span> <span class="ruby-identifier">prefix</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">token</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">max</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">versions</span><span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">options</span> = { <span class="ruby-identifier">prefix</span><span class="ruby-operator">:</span> <span class="ruby-identifier">prefix</span>, <span class="ruby-identifier">token</span><span class="ruby-operator">:</span> <span class="ruby-identifier">token</span>, <span class="ruby-identifier">max</span><span class="ruby-operator">:</span> <span class="ruby-identifier">max</span>, <span class="ruby-identifier">versions</span><span class="ruby-operator">:</span> <span class="ruby-identifier">versions</span> }
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">list_files</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">List</span>.<span class="ruby-identifier">from_response</span> <span class="ruby-identifier">resp</span>, <span class="ruby-identifier">connection</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  
    <div class="aliases">
      Also aliased as: <a href="Bucket.html#method-i-find_files">find_files</a>
    </div>
  

  
</div>

        
          <div id="find_file-method" class="method alias">
  <a name="method-i-find_file"></a>

  
    <h4>
      <code>find_file(path, generation: nil)</code>
      <span>
        <a href="#method-i-find_file">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      
    

    
  </div>

  

  
    <div class="aliases">
      Alias for: <a href="Bucket.html#method-i-file">file</a>
    </div>
  
</div>

        
          <div id="find_files-method" class="method alias">
  <a name="method-i-find_files"></a>

  
    <h4>
      <code>find_files(prefix: nil, token: nil, max: nil, versions: nil)</code>
      <span>
        <a href="#method-i-find_files">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      
    

    
  </div>

  

  
    <div class="aliases">
      Alias for: <a href="Bucket.html#method-i-files">files</a>
    </div>
  
</div>

        
          <div id="id-method" class="method ">
  <a name="method-i-id"></a>

  
    <h4>
      <code>id()</code>
      <span>
        <a href="#method-i-id">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The ID of the bucket.</p>
    

    
      <!-- <div class="method-source-code" id="id-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 62</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">id</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;id&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="kind-method" class="method ">
  <a name="method-i-kind"></a>

  
    <h4>
      <code>kind()</code>
      <span>
        <a href="#method-i-kind">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The kind of item this is. For buckets, this is always +storage#bucket+.</p>
    

    
      <!-- <div class="method-source-code" id="kind-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 56</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">kind</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;kind&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="location-method" class="method ">
  <a name="method-i-location"></a>

  
    <h4>
      <code>location()</code>
      <span>
        <a href="#method-i-location">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The location of the bucket. Object data for objects in the bucket resides
in physical storage within this region. Defaults to US. See the
developer&#39;s guide for the authoritative list.</p>

<p><a
href="https://cloud.google.com/storage/docs/concepts-techniques">cloud.google.com/storage/docs/concepts-techniques</a></p>
    

    
      <!-- <div class="method-source-code" id="location-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 154</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">location</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;location&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="logging_bucket-method" class="method ">
  <a name="method-i-logging_bucket"></a>

  
    <h4>
      <code>logging_bucket()</code>
      <span>
        <a href="#method-i-logging_bucket">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The destination bucket name for the bucket&#39;s logs. For more
information, see <a
href="https://cloud.google.com/storage/docs/access-logs">Access Logs</a>.</p>
    

    
      <!-- <div class="method-source-code" id="logging_bucket-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 161</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">logging_bucket</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;logging&quot;</span>][<span class="ruby-string">&quot;logBucket&quot;</span>] <span class="ruby-keyword">if</span> <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;logging&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="logging_bucket-3D-method" class="method ">
  <a name="method-i-logging_bucket-3D"></a>

  
    <h4>
      <code>logging_bucket=(logging_bucket)</code>
      <span>
        <a href="#method-i-logging_bucket-3D">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Updates the destination bucket for the bucket&#39;s logs. For more
information, see <a
href="https://cloud.google.com/storage/docs/access-logs">Access Logs</a>.
(<code>String</code>)</p>
    

    
      <!-- <div class="method-source-code" id="logging_bucket-3D-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">logging_bucket=</span> <span class="ruby-identifier">logging_bucket</span>
  <span class="ruby-identifier">patch_gapi!</span> <span class="ruby-identifier">logging_bucket</span><span class="ruby-operator">:</span> <span class="ruby-identifier">logging_bucket</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="logging_prefix-method" class="method ">
  <a name="method-i-logging_prefix"></a>

  
    <h4>
      <code>logging_prefix()</code>
      <span>
        <a href="#method-i-logging_prefix">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The logging object prefix for the bucket&#39;s logs. For more information,
see <a href="https://cloud.google.com/storage/docs/access-logs">Access
Logs</a>.</p>
    

    
      <!-- <div class="method-source-code" id="logging_prefix-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 176</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">logging_prefix</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;logging&quot;</span>][<span class="ruby-string">&quot;logObjectPrefix&quot;</span>] <span class="ruby-keyword">if</span> <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;logging&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="logging_prefix-3D-method" class="method ">
  <a name="method-i-logging_prefix-3D"></a>

  
    <h4>
      <code>logging_prefix=(logging_prefix)</code>
      <span>
        <a href="#method-i-logging_prefix-3D">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Updates the logging object prefix. This prefix will be used to create log
object names for the bucket. It can be at most 900 characters and must be a
<a
href="https://cloud.google.com/storage/docs/bucket-naming#objectnames">valid
object name</a>. By default, the object prefix is the name of the bucket
for which the logs are enabled. For more information, see <a
href="https://cloud.google.com/storage/docs/access-logs">Access Logs</a>.
(<code>String</code>)</p>
    

    
      <!-- <div class="method-source-code" id="logging_prefix-3D-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 189</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">logging_prefix=</span> <span class="ruby-identifier">logging_prefix</span>
  <span class="ruby-identifier">patch_gapi!</span> <span class="ruby-identifier">logging_prefix</span><span class="ruby-operator">:</span> <span class="ruby-identifier">logging_prefix</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="name-method" class="method ">
  <a name="method-i-name"></a>

  
    <h4>
      <code>name()</code>
      <span>
        <a href="#method-i-name">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The name of the bucket.</p>
    

    
      <!-- <div class="method-source-code" id="name-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 68</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">name</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;name&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="new_file-method" class="method alias">
  <a name="method-i-new_file"></a>

  
    <h4>
      <code>new_file(file, path = nil, acl: nil, cache_control: nil, content_disposition: nil, content_encoding: nil, content_language: nil, content_type: nil, chunk_size: nil, crc32c: nil, md5: nil, metadata: nil)</code>
      <span>
        <a href="#method-i-new_file">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      
    

    
  </div>

  

  
    <div class="aliases">
      Alias for: <a href="Bucket.html#method-i-create_file">create_file</a>
    </div>
  
</div>

        
          <div id="refresh-21-method" class="method alias">
  <a name="method-i-refresh-21"></a>

  
    <h4>
      <code>refresh!()</code>
      <span>
        <a href="#method-i-refresh-21">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      
    

    
  </div>

  

  
    <div class="aliases">
      Alias for: <a href="Bucket.html#method-i-reload-21">reload!</a>
    </div>
  
</div>

        
          <div id="reload-21-method" class="method ">
  <a name="method-i-reload-21"></a>

  
    <h4>
      <code>reload!()</code>
      <span>
        <a href="#method-i-reload-21">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Reloads the bucket with current data from the <a
href="../Storage.html">Storage</a> service.</p>
    

    
      <!-- <div class="method-source-code" id="reload-21-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 735</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reload!</span>
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">get_bucket</span> <span class="ruby-identifier">name</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-ivar">@gapi</span> = <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">data</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  
    <div class="aliases">
      Also aliased as: <a href="Bucket.html#method-i-refresh-21">refresh!</a>
    </div>
  

  
</div>

        
          <div id="storage_class-method" class="method ">
  <a name="method-i-storage_class"></a>

  
    <h4>
      <code>storage_class()</code>
      <span>
        <a href="#method-i-storage_class">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The bucket&#39;s storage class. This defines how objects in the bucket are
stored and determines the SLA and the cost of storage. Values include
<code>STANDARD</code>, <code>NEARLINE</code>, and
<code>DURABLE_REDUCED_AVAILABILITY</code>.</p>
    

    
      <!-- <div class="method-source-code" id="storage_class-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 197</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">storage_class</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;storageClass&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="update-method" class="method ">
  <a name="method-i-update"></a>

  
    <h4>
      <code>update()</code>
      <span>
        <a href="#method-i-update">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Updates the bucket with changes made in the given block in a single PATCH
request. The following attributes may be set: <a
href="Bucket.html#method-i-cors-3D">cors=</a>, <a
href="Bucket.html#method-i-logging_bucket-3D">logging_bucket=</a>, <a
href="Bucket.html#method-i-logging_prefix-3D">logging_prefix=</a>, <a
href="Bucket.html#method-i-versioning-3D">versioning=</a>, <a
href="Bucket.html#method-i-website_main-3D">website_main=</a>, and <a
href="Bucket.html#method-i-website_404-3D">website_404=</a>. In addition,
the <a href="Bucket.html#method-i-cors">cors</a> configuration accessible
in the block is completely mutable and will be included in the request.</p>

<h3 id="method-i-update-label-Examples">Examples<span><a href="#method-i-update-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>

<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>
<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">update</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">b</span>.<span class="ruby-identifier">website_main</span> = <span class="ruby-string">&quot;index.html&quot;</span>
  <span class="ruby-identifier">b</span>.<span class="ruby-identifier">website_404</span> = <span class="ruby-string">&quot;not_found.html&quot;</span>
  <span class="ruby-identifier">b</span>.<span class="ruby-identifier">cors</span>[<span class="ruby-value">0</span>][<span class="ruby-string">&quot;method&quot;</span>] = [<span class="ruby-string">&quot;GET&quot;</span>,<span class="ruby-string">&quot;POST&quot;</span>,<span class="ruby-string">&quot;DELETE&quot;</span>]
  <span class="ruby-identifier">b</span>.<span class="ruby-identifier">cors</span>[<span class="ruby-value">1</span>][<span class="ruby-string">&quot;responseHeader&quot;</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;X-Another-Custom-Header&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>New CORS rules can also be added in a nested block. See <a
href="Bucket/Cors.html">Bucket::Cors</a> for details.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">storage</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">storage</span>
<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-string">&quot;my-todo-app&quot;</span>

<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">update</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">b</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">b</span>.<span class="ruby-identifier">cors</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">add_rule</span> [<span class="ruby-string">&quot;http://example.org&quot;</span>, <span class="ruby-string">&quot;https://example.org&quot;</span>],
               <span class="ruby-string">&quot;*&quot;</span>,
               <span class="ruby-identifier">response_headers</span><span class="ruby-operator">:</span> [<span class="ruby-string">&quot;X-My-Custom-Header&quot;</span>],
               <span class="ruby-identifier">max_age</span><span class="ruby-operator">:</span> <span class="ruby-value">300</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>
    

    
      <!-- <div class="method-source-code" id="update-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 295</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update</span>
  <span class="ruby-identifier">updater</span> = <span class="ruby-constant">Updater</span>.<span class="ruby-identifier">new</span> <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;cors&quot;</span>]
  <span class="ruby-keyword">yield</span> <span class="ruby-identifier">updater</span>
  <span class="ruby-identifier">patch_gapi!</span> <span class="ruby-identifier">updater</span>.<span class="ruby-identifier">updates</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">updater</span>.<span class="ruby-identifier">updates</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="upload_file-method" class="method alias">
  <a name="method-i-upload_file"></a>

  
    <h4>
      <code>upload_file(file, path = nil, acl: nil, cache_control: nil, content_disposition: nil, content_encoding: nil, content_language: nil, content_type: nil, chunk_size: nil, crc32c: nil, md5: nil, metadata: nil)</code>
      <span>
        <a href="#method-i-upload_file">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      
    

    
  </div>

  

  
    <div class="aliases">
      Alias for: <a href="Bucket.html#method-i-create_file">create_file</a>
    </div>
  
</div>

        
          <div id="versioning-3D-method" class="method ">
  <a name="method-i-versioning-3D"></a>

  
    <h4>
      <code>versioning=(new_versioning)</code>
      <span>
        <a href="#method-i-versioning-3D">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Updates whether <a
href="https://cloud.google.com/storage/docs/object-versioning">Object
Versioning</a> is enabled for the bucket. (<code>Boolean</code>)</p>
    

    
      <!-- <div class="method-source-code" id="versioning-3D-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 213</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">versioning=</span> <span class="ruby-identifier">new_versioning</span>
  <span class="ruby-identifier">patch_gapi!</span> <span class="ruby-identifier">versioning</span><span class="ruby-operator">:</span> <span class="ruby-identifier">new_versioning</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="versioning-3F-method" class="method ">
  <a name="method-i-versioning-3F"></a>

  
    <h4>
      <code>versioning?()</code>
      <span>
        <a href="#method-i-versioning-3F">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Whether <a
href="https://cloud.google.com/storage/docs/object-versioning">Object
Versioning</a> is enabled for the bucket.</p>
    

    
      <!-- <div class="method-source-code" id="versioning-3F-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 205</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">versioning?</span>
  <span class="ruby-operator">!</span><span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;versioning&quot;</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;versioning&quot;</span>][<span class="ruby-string">&quot;enabled&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="website_404-method" class="method ">
  <a name="method-i-website_404"></a>

  
    <h4>
      <code>website_404()</code>
      <span>
        <a href="#method-i-website_404">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The page returned from a static website served from the bucket when a site
visitor requests a resource that does not exist. For more information, see
<a
href="https://cloud.google.com/storage/docs/website-configuration#step4">How
to Host a Static Website </a>.</p>
    

    
      <!-- <div class="method-source-code" id="website_404-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">website_404</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;website&quot;</span>][<span class="ruby-string">&quot;notFoundPage&quot;</span>] <span class="ruby-keyword">if</span> <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;website&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="website_404-3D-method" class="method ">
  <a name="method-i-website_404-3D"></a>

  
    <h4>
      <code>website_404=(website_404)</code>
      <span>
        <a href="#method-i-website_404-3D">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Updates the page returned from a static website served from the bucket when
a site visitor requests a resource that does not exist. For more
information, see <a
href="https://cloud.google.com/storage/docs/website-configuration#step4">How
to Host a Static Website </a>. (<code>String</code>)</p>
    

    
      <!-- <div class="method-source-code" id="website_404-3D-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 251</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">website_404=</span> <span class="ruby-identifier">website_404</span>
  <span class="ruby-identifier">patch_gapi!</span> <span class="ruby-identifier">website_404</span><span class="ruby-operator">:</span> <span class="ruby-identifier">website_404</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="website_main-method" class="method ">
  <a name="method-i-website_main"></a>

  
    <h4>
      <code>website_main()</code>
      <span>
        <a href="#method-i-website_main">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The index page returned from a static website served from the bucket when a
site visitor requests the top level directory. For more information, see <a
href="https://cloud.google.com/storage/docs/website-configuration#step4">How
to Host a Static Website </a>.</p>
    

    
      <!-- <div class="method-source-code" id="website_main-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 222</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">website_main</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;website&quot;</span>][<span class="ruby-string">&quot;mainPageSuffix&quot;</span>] <span class="ruby-keyword">if</span> <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;website&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="website_main-3D-method" class="method ">
  <a name="method-i-website_main-3D"></a>

  
    <h4>
      <code>website_main=(website_main)</code>
      <span>
        <a href="#method-i-website_main-3D">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Updates the index page returned from a static website served from the
bucket when a site visitor requests the top level directory. For more
information, see <a
href="https://cloud.google.com/storage/docs/website-configuration#step4">How
to Host a Static Website </a>. (<code>String</code>)</p>
    

    
      <!-- <div class="method-source-code" id="website_main-3D-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 232</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">website_main=</span> <span class="ruby-identifier">website_main</span>
  <span class="ruby-identifier">patch_gapi!</span> <span class="ruby-identifier">website_main</span><span class="ruby-operator">:</span> <span class="ruby-identifier">website_main</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
      </div>
    </div>
  



          
        
      </section>

      <nav class="side-nav">
        
<div class="side-nav--meta">
  <div id="doc-build-date">
    Docs built on Dec 08, 2015.
  </div>
</div>

<ul>
  <h4 class="list-item--heading">Getting Started</h4>
  <li class="toc-l0"><a class="reference internal" href="../../index.html">Overview</a></li>
  
    <li class="toc-l0"><a class="reference internal" href="../../AUTHENTICATION.md">Authentication Guide</a></li>
  
</ul>

<ul>
  <h4 class="list-item--heading">API</h4>
  
      <li class="toc-l0">
        <a class="reference internal" href="../../Gcloud.html">
          Gcloud
        </a>
      </li>
      
  
      <li class="toc-l0">
        <a class="reference internal" href="../Bigquery.html">
          BigQuery
        </a>
      </li>
      
  
      <li class="toc-l0">
        <a class="reference internal" href="../Datastore.html">
          Datastore
        </a>
      </li>
      
  
      <li class="toc-l0">
        <a class="reference internal" href="../Dns.html">
          DNS
        </a>
      </li>
      
  
      <li class="toc-l0">
        <a class="reference internal" href="../Pubsub.html">
          Pub/Sub
        </a>
      </li>
      
  
      <li class="toc-l0">
        <a class="reference internal" href="../ResourceManager.html">
          Resource Manager
        </a>
      </li>
      
  
      <li class="toc-l0">
        <a class="reference internal" href="../Storage.html">
          Storage
        </a>
      </li>
      
        <li class="toc-l1">
          <a class="reference internal" href="Project.html">
            Project
          </a>
        </li>
      
        <li class="toc-l1">
          <a class="reference internal current" href="Bucket.html">
            Bucket
          </a>
        </li>
      
        <li class="toc-l1">
          <a class="reference internal" href="File.html">
            File
          </a>
        </li>
      
  
  <li class="toc-l0"><a class="reference internal" href="../../reference.html">API Reference</a></li>
</ul>

<ul class="external-links">
  <li>
    <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby" title="Github repository">
      <img src="/gcloud-ruby/img/icon-link-github.svg" alt="Github icon">
      Github
    </a>
  </li>
  <li>
    <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby/issues" title="Issues on Github">
      <img src="/gcloud-ruby/img/icon-link-issues.svg" alt="Issues icon">
      Issues
    </a>
  </li>
  <li>
    <a href="http://stackoverflow.com/questions/tagged/gcloud-ruby" title="gcloud on StackOverflow">
      <img src="/gcloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon">
      StackOverflow
    </a>
  </li>
  <li>
    <a href="http://rubygems.org/gems/gcloud" title="RubyGems" class="ext-link">
       <img src="/gcloud-ruby/img/icon-link-rubygems.svg" alt="RubyGems icon">
      RubyGems
    </a>
  </li>
</ul>

      </nav>

    </article>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script ="/gcloud-ruby/js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
<script src="/gcloud-ruby/js/plugins.js"></script>
<script src="/gcloud-ruby/js/main.js"></script>

<script>
  (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-49880327-13');ga('send','pageview');
</script>


  </body>
</html>
