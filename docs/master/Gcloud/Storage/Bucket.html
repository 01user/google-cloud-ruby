<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Gcloud::Storage::Bucket - gcloud-0.0.1</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-acl">#acl</a>
    
    <li ><a href="#method-i-create_file">#create_file</a>
    
    <li ><a href="#method-i-created_at">#created_at</a>
    
    <li ><a href="#method-i-default_acl">#default_acl</a>
    
    <li ><a href="#method-i-delete">#delete</a>
    
    <li ><a href="#method-i-ensure_connection-21">#ensure_connection!</a>
    
    <li ><a href="#method-i-files">#files</a>
    
    <li ><a href="#method-i-find_file">#find_file</a>
    
    <li ><a href="#method-i-id">#id</a>
    
    <li ><a href="#method-i-kind">#kind</a>
    
    <li ><a href="#method-i-location">#location</a>
    
    <li ><a href="#method-i-name">#name</a>
    
    <li ><a href="#method-i-upload_multipart">#upload_multipart</a>
    
    <li ><a href="#method-i-upload_resumable">#upload_resumable</a>
    
    <li ><a href="#method-i-url">#url</a>
    
    <li ><a href="#method-i-verify_chunk_size-21">#verify_chunk_size!</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Gcloud::Storage::Bucket">
  <h1 id="class-Gcloud::Storage::Bucket" class="class">
    class Gcloud::Storage::Bucket
  </h1>

  <section class="description">
    
<p>Represents a <a href="Bucket.html">Bucket</a>. Belongs to a <a
href="Project.html">Project</a> and has many Files.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Create an empty <a href="Bucket.html">Bucket</a> object.</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 34</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>
  <span class="ruby-ivar">@connection</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@gapi</span> = {}
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-acl" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">acl</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Access Control <a href="Bucket/List.html">List</a></p>
          
          

          
          <div class="method-source-code" id="acl-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 185</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">acl</span>
  <span class="ruby-ivar">@acl</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Bucket</span><span class="ruby-operator">::</span><span class="ruby-constant">Acl</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-create_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">create_file</span><span
            class="method-args">(file, path = nil, options = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Create a new Gcloud::Storeage::File object by providing a <a
href="File.html">File</a> object to upload and the path to store it with.</p>

<pre class="ruby"><span class="ruby-identifier">storage</span> = <span class="ruby-constant">Gcloud</span><span class="ruby-operator">::</span><span class="ruby-constant">Storage</span>.<span class="ruby-identifier">project</span>
<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">find_bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>
<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">create_file</span> <span class="ruby-string">&quot;path/to/local.file.ext&quot;</span>
</pre>

<p>Additionally, a destination path can be specified.</p>

<pre class="ruby"><span class="ruby-identifier">storage</span> = <span class="ruby-constant">Gcloud</span><span class="ruby-operator">::</span><span class="ruby-constant">Storage</span>.<span class="ruby-identifier">project</span>
<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">find_bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>
<span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">create_file</span> <span class="ruby-string">&quot;path/to/local.file.ext&quot;</span>,
                   <span class="ruby-string">&quot;destination/path/file.ext&quot;</span>
</pre>

<p>A chunk_size value can be provided in the options to be used in resumable
uploads. This value is the number of bytes per chunk and must be divisible
by 256KB. If it is not divisible by 265KB then it will be lowered to the
nearest acceptible value.</p>

<pre class="ruby"><span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">create_file</span> <span class="ruby-string">&quot;path/to/local.file.ext&quot;</span>,
                   <span class="ruby-string">&quot;destination/path/file.ext&quot;</span>,
                   <span class="ruby-identifier">chunk_size</span><span class="ruby-operator">:</span> <span class="ruby-value">1024</span><span class="ruby-operator">*</span><span class="ruby-value">1024</span> <span class="ruby-comment"># 1 MB chunk</span>
</pre>

<p>See <a href="File.html">Gcloud::Storage::File</a></p>
          
          

          
          <div class="method-source-code" id="create_file-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">create_file</span> <span class="ruby-identifier">file</span>, <span class="ruby-identifier">path</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">options</span> = {}
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-comment"># TODO: Raise if file doesn&#39;t exist</span>
  <span class="ruby-comment"># ensure_file_exists!</span>
  <span class="ruby-identifier">fail</span> <span class="ruby-keyword">unless</span> <span class="ruby-operator">::</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-identifier">file</span>

  <span class="ruby-identifier">options</span>[<span class="ruby-value">:acl</span>] = <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">Acl</span>.<span class="ruby-identifier">predefined_rule_for</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:acl</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resumable_upload?</span> <span class="ruby-identifier">file</span>
    <span class="ruby-identifier">upload_resumable</span> <span class="ruby-identifier">file</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>[<span class="ruby-value">:chunk_size</span>], <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">upload_multipart</span> <span class="ruby-identifier">file</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-created_at" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">created_at</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creation time of the bucket.</p>
          
          

          
          <div class="method-source-code" id="created_at-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 77</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">created_at</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;timeCreated&quot;</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-default_acl" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_acl</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Default Access Control <a href="Bucket/List.html">List</a></p>
          
          

          
          <div class="method-source-code" id="default_acl-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 191</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_acl</span>
  <span class="ruby-ivar">@default_acl</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Bucket</span><span class="ruby-operator">::</span><span class="ruby-constant">DefaultAcl</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delete" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delete</span><span
            class="method-args">(options = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Permenently deletes the bucket. The bucket must be empty.</p>

<pre class="ruby"><span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">delete</span>
</pre>

<p>The API call to delete the bucket may be retried under certain conditions.
See <a href="../Backoff.html">Gcloud::Backoff</a> to control this behavior,
or specify the wanted behavior in the call:</p>

<pre class="ruby"><span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">delete</span> <span class="ruby-identifier">retries</span><span class="ruby-operator">:</span> <span class="ruby-value">5</span>
</pre>
          
          

          
          <div class="method-source-code" id="delete-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 92</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete</span> <span class="ruby-identifier">options</span> = {}
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">delete_bucket</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-files" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">files</span><span
            class="method-args">(options = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Retrieves a list of files matching the criteria.</p>

<pre class="ruby"><span class="ruby-identifier">storage</span> = <span class="ruby-constant">Gcloud</span><span class="ruby-operator">::</span><span class="ruby-constant">Storage</span>.<span class="ruby-identifier">project</span>
<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">find_bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>
<span class="ruby-identifier">files</span> = <span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">files</span>
<span class="ruby-identifier">files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">name</span>
<span class="ruby-keyword">end</span>
</pre>

<p>See <a href="File.html">Gcloud::Storage::File</a></p>
          
          

          
          <div class="method-source-code" id="files-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 113</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">files</span> <span class="ruby-identifier">options</span> = {}
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">list_files</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">List</span>.<span class="ruby-identifier">from_resp</span> <span class="ruby-identifier">resp</span>, <span class="ruby-identifier">connection</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-find_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">find_file</span><span
            class="method-args">(path, options = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Retrieves a file matching the path.</p>

<pre class="ruby"><span class="ruby-identifier">storage</span> = <span class="ruby-constant">Gcloud</span><span class="ruby-operator">::</span><span class="ruby-constant">Storage</span>.<span class="ruby-identifier">project</span>
<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">storage</span>.<span class="ruby-identifier">find_bucket</span> <span class="ruby-string">&quot;my-bucket&quot;</span>
<span class="ruby-identifier">file</span> = <span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">find_file</span> <span class="ruby-string">&quot;path/to/my-file.ext&quot;</span>
<span class="ruby-identifier">puts</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">name</span>
</pre>

<p>See <a href="File.html">Gcloud::Storage::File</a></p>
          
          

          
          <div class="method-source-code" id="find_file-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 132</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_file</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span> = {}
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">get_file</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">from_gapi</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">data</span>, <span class="ruby-identifier">connection</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">id</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The ID of the bucket.</p>
          
          

          
          <div class="method-source-code" id="id-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 48</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">id</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;id&quot;</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-kind" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">kind</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The kind of item this is. For buckets, this is always storage#bucket.</p>
          
          

          
          <div class="method-source-code" id="kind-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">kind</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;kind&quot;</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-location" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">location</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The location of the bucket. Object data for objects in the bucket resides
in physical storage within this region. Defaults to US. See the
developer&#39;s guide for the authoritative list.</p>

<p><a
href="https://cloud.google.com/storage/docs/concepts-techniques">cloud.google.com/storage/docs/concepts-techniques</a></p>
          
          

          
          <div class="method-source-code" id="location-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">location</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;location&quot;</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The name of the bucket.</p>
          
          

          
          <div class="method-source-code" id="name-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 54</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">name</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;name&quot;</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-url" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">url</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The URI of this bucket.</p>
          
          

          
          <div class="method-source-code" id="url-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 60</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">url</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;selfLink&quot;</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="protected-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Protected Instance Methods</h3>
       </header>

    
      <div id="method-i-ensure_connection-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ensure_connection!</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Raise an error unless an active connection is available.</p>
          
          

          
          <div class="method-source-code" id="ensure_connection-21-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 208</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">fail</span> <span class="ruby-string">&quot;Must have active connection&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">connection</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-upload_multipart" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">upload_multipart</span><span
            class="method-args">(file, path, options = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="upload_multipart-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 218</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">upload_multipart</span> <span class="ruby-identifier">file</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span> = {}
  <span class="ruby-identifier">resp</span> = <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">insert_file_multipart</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">file</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">from_gapi</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">data</span>, <span class="ruby-identifier">connection</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-upload_resumable" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">upload_resumable</span><span
            class="method-args">(file, path, chunk_size, options = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="upload_resumable-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 228</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">upload_resumable</span> <span class="ruby-identifier">file</span>, <span class="ruby-identifier">path</span>, <span class="ruby-identifier">chunk_size</span>, <span class="ruby-identifier">options</span> = {}
  <span class="ruby-identifier">chunk_size</span> = <span class="ruby-identifier">verify_chunk_size!</span> <span class="ruby-identifier">chunk_size</span>

  <span class="ruby-identifier">resp</span> = <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">insert_file_resumable</span> <span class="ruby-identifier">name</span>, <span class="ruby-identifier">file</span>,
                                           <span class="ruby-identifier">path</span>, <span class="ruby-identifier">chunk_size</span>, <span class="ruby-identifier">options</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">from_gapi</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">data</span>, <span class="ruby-identifier">connection</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-verify_chunk_size-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">verify_chunk_size!</span><span
            class="method-args">(chunk_size)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Determines if a chunk_size is valid.</p>
          
          

          
          <div class="method-source-code" id="verify_chunk_size-21-source">
            <pre><span class="ruby-comment"># File lib/gcloud/storage/bucket.rb, line 243</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">verify_chunk_size!</span> <span class="ruby-identifier">chunk_size</span>
  <span class="ruby-identifier">chunk_size</span> = <span class="ruby-identifier">chunk_size</span>.<span class="ruby-identifier">to_i</span>
  <span class="ruby-identifier">chunk_mod</span> = <span class="ruby-value">256</span> <span class="ruby-operator">*</span> <span class="ruby-value">1024</span> <span class="ruby-comment"># 256KB</span>
  <span class="ruby-keyword">if</span> (<span class="ruby-identifier">chunk_size</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">%</span> <span class="ruby-identifier">chunk_mod</span>) <span class="ruby-operator">!=</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">chunk_size</span> = (<span class="ruby-identifier">chunk_size</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">chunk_mod</span>) <span class="ruby-operator">*</span> <span class="ruby-identifier">chunk_mod</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">chunk_size</span>.<span class="ruby-identifier">zero?</span>
  <span class="ruby-identifier">chunk_size</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

