<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <title>Gcloud::Bigquery::View &mdash; Gcloud Documentation</title>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="/gcloud-ruby/css/normalize.css">
<link rel="stylesheet" href="/gcloud-ruby/css/main.css">
<script src="/gcloud-ruby/js/vendor/modernizr-2.6.2.min.js"></script>
<link href='//fonts.googleapis.com/css?family=Droid+Sans+Mono|Roboto:300,400,700,700italic,400italic|Open+Sans:300' rel='stylesheet' type='text/css'>
<link rel="shortcut icon" href="https://cloud.google.com/images/gcp-favicon.ico">

  </head>

  <body class="lang-page">
    <!--[if lt IE 7]>
  <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->

<header class="page-header fixed" role="banner">
  <h1 class="logo">
    <a href="/gcloud-ruby/" title="back to home">
      <img src="/gcloud-ruby/img/logo.svg" alt="Google Cloud Platform">
      <span class="gcloud">gcloud</span>
    </a>
  </h1>

  <nav class="main-nav">
    <div class="nav-current">Ruby</div>
    <ul class="menu">
      <li>
        <a href="/gcloud-node/#/docs" title="gcloud-node">
          <img src="/gcloud-ruby/img/icon-lang-nodejs.svg" alt="Node.js icon" class="menu-icon">
          Node.js
        </a>
      </li>
      <li>
        <a href="/gcloud-python/latest/" title="gcloud-python">
          <img src="/gcloud-ruby/img/icon-lang-python.svg" alt="Python icon" class="menu-icon">
          Python
        </a>
      </li>
      <li>
        <a href="/gcloud-ruby/" title="gcloud-ruby">
          <img src="/gcloud-ruby/img/icon-lang-ruby.svg" alt="Ruby icon" class="menu-icon" width="24">
          Ruby
        </a>
      </li>
    </ul>
  </nav>

  <div class="github-issue">
    <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby/issues/new?title=%5BDocumentation+Issue%5D+" target="_blank" class="v-btn">
      <img src="/gcloud-ruby/img/icon-link-github.svg" />
      Report an Issue
    </a>
  </div>
</header>


    <article class="main lang-page" role="main">

      <header class="docs-header">
        <h1 class="page-title">Gcloud::Bigquery::View</h1>
      </header>

      <section class="content">

        <div id="description" class="description">
          
<h1 id="class-Gcloud::Bigquery::View-label-View"><a href="View.html">View</a><span><a href="#class-Gcloud::Bigquery::View-label-View">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p>A view is a virtual table defined by a SQL query. You can query views in
the browser tool, or by using a query job.</p>

<p>BigQuery&#39;s views are logical views, not materialized views, which means
that the query that defines the view is re-executed every time the view is
queried. Queries are billed according to the total amount of data in all
table fields referenced directly or indirectly by the top-level query.</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">bigquery</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">bigquery</span>
<span class="ruby-identifier">dataset</span> = <span class="ruby-identifier">bigquery</span>.<span class="ruby-identifier">dataset</span> <span class="ruby-string">&quot;my_dataset&quot;</span>
<span class="ruby-identifier">view</span> = <span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">create_view</span> <span class="ruby-string">&quot;my_view&quot;</span>,
         <span class="ruby-string">&quot;SELECT name, age FROM [proj:dataset.users]&quot;</span>
</pre>

        </div>

        <div class="section-links">
  
    <div>
      Parent:
      
        Object
      
    </div>
  

  

  
    
      <div>
         Methods:

        
        

        
        
            
              <a href="#method-i-refresh-21">refresh!</a>
            
          
        

      </div>
    
  
    
      <div>
        Attributes Methods:

        
        

        
        
            
              <a href="#method-i-created_at">created_at</a>
            
              <a href="#method-i-dataset_id">dataset_id</a>
            
              <a href="#method-i-description">description</a>
            
              <a href="#method-i-etag">etag</a>
            
              <a href="#method-i-expires_at">expires_at</a>
            
              <a href="#method-i-fields">fields</a>
            
              <a href="#method-i-headers">headers</a>
            
              <a href="#method-i-location">location</a>
            
              <a href="#method-i-modified_at">modified_at</a>
            
              <a href="#method-i-name">name</a>
            
              <a href="#method-i-project_id">project_id</a>
            
              <a href="#method-i-query">query</a>
            
              <a href="#method-i-schema">schema</a>
            
              <a href="#method-i-table-3F">table?</a>
            
              <a href="#method-i-table_id">table_id</a>
            
              <a href="#method-i-url">url</a>
            
              <a href="#method-i-view-3F">view?</a>
            
          
        

      </div>
    
  
    
      <div>
        Data Methods:

        
        

        
        
            
              <a href="#method-i-data">data</a>
            
          
        

      </div>
    
  
    
      <div>
        Lifecycle Methods:

        
        

        
        
            
              <a href="#method-i-delete">delete</a>
            
              <a href="#method-i-description-3D">description=</a>
            
              <a href="#method-i-name-3D">name=</a>
            
              <a href="#method-i-query-3D">query=</a>
            
              <a href="#method-i-reload-21">reload!</a>
            
          
        

      </div>
    
  
</div>


        
          
            <h2 id="5Buntitled-5D"> Methods</h2>












    <div id="public-instance-methods" class="section">
      <h3 class="section-header">Public Instance Methods</h3>

      <div class="methods">
        
          <div id="refresh-21-method" class="method alias">
  <a name="method-i-refresh-21"></a>

  
    <h4>
      <code>refresh!()</code>
      <span>
        <a href="#method-i-refresh-21">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      
    

    
  </div>

  

  
    <div class="aliases">
      Alias for: <a href="View.html#method-i-reload-21">reload!</a>
    </div>
  
</div>

        
      </div>
    </div>
  



          
        
          
            <h2 id="Attributes">Attributes Methods</h2>












    <div id="public-instance-methods" class="section">
      <h3 class="section-header">Public Instance Methods</h3>

      <div class="methods">
        
          <div id="created_at-method" class="method ">
  <a name="method-i-created_at"></a>

  
    <h4>
      <code>created_at()</code>
      <span>
        <a href="#method-i-created_at">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The time when this table was created.</p>
    

    
      <!-- <div class="method-source-code" id="created_at-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">created_at</span>
  <span class="ruby-identifier">ensure_full_data!</span>
  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;creationTime&quot;</span>] <span class="ruby-operator">/</span> <span class="ruby-value">1000.0</span>)
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="dataset_id-method" class="method ">
  <a name="method-i-dataset_id"></a>

  
    <h4>
      <code>dataset_id()</code>
      <span>
        <a href="#method-i-dataset_id">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The ID of the <code>Dataset</code> containing this table.</p>
    

    
      <!-- <div class="method-source-code" id="dataset_id-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">dataset_id</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;tableReference&quot;</span>][<span class="ruby-string">&quot;datasetId&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="description-method" class="method ">
  <a name="method-i-description"></a>

  
    <h4>
      <code>description()</code>
      <span>
        <a href="#method-i-description">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The description of the table.</p>
    

    
      <!-- <div class="method-source-code" id="description-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 129</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">description</span>
  <span class="ruby-identifier">ensure_full_data!</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;description&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="etag-method" class="method ">
  <a name="method-i-etag"></a>

  
    <h4>
      <code>etag()</code>
      <span>
        <a href="#method-i-etag">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>A string hash of the dataset.</p>
    

    
      <!-- <div class="method-source-code" id="etag-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">etag</span>
  <span class="ruby-identifier">ensure_full_data!</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;etag&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="expires_at-method" class="method ">
  <a name="method-i-expires_at"></a>

  
    <h4>
      <code>expires_at()</code>
      <span>
        <a href="#method-i-expires_at">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The time when this table expires. If not present, the table will persist
indefinitely. Expired tables will be deleted and their storage reclaimed.</p>
    

    
      <!-- <div class="method-source-code" id="expires_at-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">expires_at</span>
  <span class="ruby-identifier">ensure_full_data!</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;expirationTime&quot;</span>].<span class="ruby-identifier">nil?</span>
  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;expirationTime&quot;</span>] <span class="ruby-operator">/</span> <span class="ruby-value">1000.0</span>)
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="fields-method" class="method ">
  <a name="method-i-fields"></a>

  
    <h4>
      <code>fields()</code>
      <span>
        <a href="#method-i-fields">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The fields of the table.</p>
    

    
      <!-- <div class="method-source-code" id="fields-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 223</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fields</span>
  <span class="ruby-identifier">f</span> = <span class="ruby-identifier">schema</span>[<span class="ruby-string">&quot;fields&quot;</span>]
  <span class="ruby-identifier">f</span> = <span class="ruby-identifier">f</span>.<span class="ruby-identifier">to_hash</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:to_hash</span>
  <span class="ruby-identifier">f</span> = [] <span class="ruby-keyword">if</span> <span class="ruby-identifier">f</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">f</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="headers-method" class="method ">
  <a name="method-i-headers"></a>

  
    <h4>
      <code>headers()</code>
      <span>
        <a href="#method-i-headers">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The names of the columns in the table.</p>
    

    
      <!-- <div class="method-source-code" id="headers-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 235</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">headers</span>
  <span class="ruby-identifier">fields</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span>[<span class="ruby-string">&quot;name&quot;</span>] }
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="location-method" class="method ">
  <a name="method-i-location"></a>

  
    <h4>
      <code>location()</code>
      <span>
        <a href="#method-i-location">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The geographic location where the table should reside. Possible values
include EU and US. The default value is US.</p>
    

    
      <!-- <div class="method-source-code" id="location-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 200</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">location</span>
  <span class="ruby-identifier">ensure_full_data!</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;location&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="modified_at-method" class="method ">
  <a name="method-i-modified_at"></a>

  
    <h4>
      <code>modified_at()</code>
      <span>
        <a href="#method-i-modified_at">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The date when this table was last modified.</p>
    

    
      <!-- <div class="method-source-code" id="modified_at-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 171</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">modified_at</span>
  <span class="ruby-identifier">ensure_full_data!</span>
  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;lastModifiedTime&quot;</span>] <span class="ruby-operator">/</span> <span class="ruby-value">1000.0</span>)
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="name-method" class="method ">
  <a name="method-i-name"></a>

  
    <h4>
      <code>name()</code>
      <span>
        <a href="#method-i-name">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The name of the table.</p>
    

    
      <!-- <div class="method-source-code" id="name-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">name</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;friendlyName&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="project_id-method" class="method ">
  <a name="method-i-project_id"></a>

  
    <h4>
      <code>project_id()</code>
      <span>
        <a href="#method-i-project_id">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The ID of the <code>Project</code> containing this table.</p>
    

    
      <!-- <div class="method-source-code" id="project_id-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 82</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">project_id</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;tableReference&quot;</span>][<span class="ruby-string">&quot;projectId&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="query-method" class="method ">
  <a name="method-i-query"></a>

  
    <h4>
      <code>query()</code>
      <span>
        <a href="#method-i-query">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The query that executes each time the view is loaded.</p>
    

    
      <!-- <div class="method-source-code" id="query-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 244</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">query</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;view&quot;</span>][<span class="ruby-string">&quot;query&quot;</span>] <span class="ruby-keyword">if</span> <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;view&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="schema-method" class="method ">
  <a name="method-i-schema"></a>

  
    <h4>
      <code>schema()</code>
      <span>
        <a href="#method-i-schema">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>The schema of the table.</p>
    

    
      <!-- <div class="method-source-code" id="schema-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 210</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">schema</span>
  <span class="ruby-identifier">ensure_full_data!</span>
  <span class="ruby-identifier">s</span> = <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;schema&quot;</span>]
  <span class="ruby-identifier">s</span> = <span class="ruby-identifier">s</span>.<span class="ruby-identifier">to_hash</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:to_hash</span>
  <span class="ruby-identifier">s</span> = {} <span class="ruby-keyword">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">s</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="table-3F-method" class="method ">
  <a name="method-i-table-3F"></a>

  
    <h4>
      <code>table?()</code>
      <span>
        <a href="#method-i-table-3F">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Checks if the table&#39;s type is “TABLE”.</p>
    

    
      <!-- <div class="method-source-code" id="table-3F-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 181</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">table?</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;type&quot;</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;TABLE&quot;</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="table_id-method" class="method ">
  <a name="method-i-table_id"></a>

  
    <h4>
      <code>table_id()</code>
      <span>
        <a href="#method-i-table_id">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>A unique ID for this table. The ID must contain only letters (a-z, A-Z),
numbers (0-9), or underscores (_). The maximum length is 1,024 characters.</p>
    

    
      <!-- <div class="method-source-code" id="table_id-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">table_id</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;tableReference&quot;</span>][<span class="ruby-string">&quot;tableId&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="url-method" class="method ">
  <a name="method-i-url"></a>

  
    <h4>
      <code>url()</code>
      <span>
        <a href="#method-i-url">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>A URL that can be used to access the dataset using the REST API.</p>
    

    
      <!-- <div class="method-source-code" id="url-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 119</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">url</span>
  <span class="ruby-identifier">ensure_full_data!</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;selfLink&quot;</span>]
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="view-3F-method" class="method ">
  <a name="method-i-view-3F"></a>

  
    <h4>
      <code>view?()</code>
      <span>
        <a href="#method-i-view-3F">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Checks if the table&#39;s type is “VIEW”.</p>
    

    
      <!-- <div class="method-source-code" id="view-3F-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 190</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">view?</span>
  <span class="ruby-ivar">@gapi</span>[<span class="ruby-string">&quot;type&quot;</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;VIEW&quot;</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
      </div>
    </div>
  



          
        
          
            <h2 id="Data">Data Methods</h2>












    <div id="public-instance-methods" class="section">
      <h3 class="section-header">Public Instance Methods</h3>

      <div class="methods">
        
          <div id="data-method" class="method ">
  <a name="method-i-data"></a>

  
    <h4>
      <code>data(options = {})</code>
      <span>
        <a href="#method-i-data">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Runs a query to retrieve all data from the view.</p>

<h3 id="method-i-data-label-Parameters">Parameters<span><a href="#method-i-data-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h3>
<dl class="rdoc-list note-list"><dt><code>options</code>
<dd>
<p>An optional Hash for controlling additional behavior. (<code>Hash</code>)</p>
</dd><dt><code>options[:max]</code>
<dd>
<p>The maximum number of rows of data to return per page of results. Setting
this flag to a small value such as 1000 and then paging through results
might improve reliability when the query result set is large. In addition
to this limit, responses are also limited to 10 MB. By default, there is no
maximum row count, and only the byte limit applies. (<code>Integer</code>)</p>
</dd><dt><code>options[:timeout]</code>
<dd>
<p>How long to wait for the query to complete, in milliseconds, before the
request times out and returns. Note that this is only a timeout for the
request, not the query. If the query takes longer to run than the timeout
value, the call returns without any results and with <a
href="QueryData.html#method-i-complete-3F">Gcloud::Bigquery::QueryData#complete?</a>
set to false. The default value is 10000 milliseconds (10 seconds).
(<code>Integer</code>)</p>
</dd><dt><code>options[:dryrun]</code>
<dd>
<p>If set to <code>true</code>, BigQuery doesn&#39;t run the job. Instead, if
the query is valid, BigQuery returns statistics about the job such as how
many bytes would be processed. If the query is invalid, an error returns.
The default value is <code>false</code>. (<code>Boolean</code>)</p>
</dd><dt><code>options[:cache]</code>
<dd>
<p>Whether to look for the result in the query cache. The query cache is a
best-effort cache that will be flushed whenever tables in the query are
modified. The default value is true. For more information, see <a
href="https://developers.google.com/bigquery/querying-data">query
caching</a>. (<code>Boolean</code>)</p>
</dd></dl>

<h3 id="method-i-data-label-Returns">Returns<span><a href="#method-i-data-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><a href="QueryData.html">Gcloud::Bigquery::QueryData</a></p>

<h3 id="method-i-data-label-Example">Example<span><a href="#method-i-data-label-Example">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">bigquery</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">bigquery</span>
<span class="ruby-identifier">dataset</span> = <span class="ruby-identifier">bigquery</span>.<span class="ruby-identifier">dataset</span> <span class="ruby-string">&quot;my_dataset&quot;</span>
<span class="ruby-identifier">view</span> = <span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">table</span> <span class="ruby-string">&quot;my_view&quot;</span>

<span class="ruby-identifier">data</span> = <span class="ruby-identifier">view</span>.<span class="ruby-identifier">data</span>
<span class="ruby-identifier">data</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">row</span>[<span class="ruby-string">&quot;first_name&quot;</span>]
<span class="ruby-keyword">end</span>
<span class="ruby-identifier">more_data</span> = <span class="ruby-identifier">data</span>.<span class="ruby-identifier">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">next?</span>
</pre>
    

    
      <!-- <div class="method-source-code" id="data-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 329</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">data</span> <span class="ruby-identifier">options</span> = {}
  <span class="ruby-identifier">sql</span> = <span class="ruby-node">&quot;SELECT * FROM #{@gapi[&#39;id&#39;]}&quot;</span>
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">query</span> <span class="ruby-identifier">sql</span>, <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-constant">QueryData</span>.<span class="ruby-identifier">from_gapi</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">data</span>, <span class="ruby-identifier">connection</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
      </div>
    </div>
  



          
        
          
            <h2 id="Lifecycle">Lifecycle Methods</h2>












    <div id="public-instance-methods" class="section">
      <h3 class="section-header">Public Instance Methods</h3>

      <div class="methods">
        
          <div id="delete-method" class="method ">
  <a name="method-i-delete"></a>

  
    <h4>
      <code>delete()</code>
      <span>
        <a href="#method-i-delete">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Permanently deletes the table.</p>

<h3 id="method-i-delete-label-Returns">Returns<span><a href="#method-i-delete-label-Returns">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><code>true</code> if the table was deleted.</p>

<h3 id="method-i-delete-label-Example">Example<span><a href="#method-i-delete-label-Example">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">bigquery</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">bigquery</span>
<span class="ruby-identifier">dataset</span> = <span class="ruby-identifier">bigquery</span>.<span class="ruby-identifier">dataset</span> <span class="ruby-string">&quot;my_dataset&quot;</span>
<span class="ruby-identifier">table</span> = <span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">table</span> <span class="ruby-string">&quot;my_table&quot;</span>

<span class="ruby-identifier">table</span>.<span class="ruby-identifier">delete</span>
</pre>
    

    
      <!-- <div class="method-source-code" id="delete-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 360</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete</span>
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">delete_table</span> <span class="ruby-identifier">dataset_id</span>, <span class="ruby-identifier">table_id</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="description-3D-method" class="method ">
  <a name="method-i-description-3D"></a>

  
    <h4>
      <code>description=(new_description)</code>
      <span>
        <a href="#method-i-description-3D">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Updates the description of the table.</p>
    

    
      <!-- <div class="method-source-code" id="description-3D-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 139</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">description=</span> <span class="ruby-identifier">new_description</span>
  <span class="ruby-identifier">patch_gapi!</span> <span class="ruby-identifier">description</span><span class="ruby-operator">:</span> <span class="ruby-identifier">new_description</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="name-3D-method" class="method ">
  <a name="method-i-name-3D"></a>

  
    <h4>
      <code>name=(new_name)</code>
      <span>
        <a href="#method-i-name-3D">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Updates the name of the table.</p>
    

    
      <!-- <div class="method-source-code" id="name-3D-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 100</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">name=</span> <span class="ruby-identifier">new_name</span>
  <span class="ruby-identifier">patch_gapi!</span> <span class="ruby-identifier">name</span><span class="ruby-operator">:</span> <span class="ruby-identifier">new_name</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="query-3D-method" class="method ">
  <a name="method-i-query-3D"></a>

  
    <h4>
      <code>query=(new_query)</code>
      <span>
        <a href="#method-i-query-3D">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Updates the query that executes each time the view is loaded. See the
BigQuery <a href="https://cloud.google.com/bigquery/query-reference">Query
Reference </a>.</p>

<h3 id="method-i-query-3D-label-Parameters">Parameters<span><a href="#method-i-query-3D-label-Parameters">&para;</a> <a href="#top">&uarr;</a></span></h3>
<dl class="rdoc-list note-list"><dt><code>new_query</code>
<dd>
<p>The query that defines the view. (<code>String</code>)</p>
</dd></dl>

<h3 id="method-i-query-3D-label-Example">Example<span><a href="#method-i-query-3D-label-Example">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;gcloud&quot;</span>

<span class="ruby-identifier">gcloud</span> = <span class="ruby-constant">Gcloud</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">bigquery</span> = <span class="ruby-identifier">gcloud</span>.<span class="ruby-identifier">bigquery</span>
<span class="ruby-identifier">dataset</span> = <span class="ruby-identifier">bigquery</span>.<span class="ruby-identifier">dataset</span> <span class="ruby-string">&quot;my_dataset&quot;</span>
<span class="ruby-identifier">view</span> = <span class="ruby-identifier">dataset</span>.<span class="ruby-identifier">table</span> <span class="ruby-string">&quot;my_view&quot;</span>

<span class="ruby-identifier">view</span>.<span class="ruby-identifier">query</span> = <span class="ruby-string">&quot;SELECT first_name FROM [my_project:my_dataset.my_table]&quot;</span>
</pre>
    

    
      <!-- <div class="method-source-code" id="query-3D-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 271</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">query=</span> <span class="ruby-identifier">new_query</span>
  <span class="ruby-identifier">patch_gapi!</span> <span class="ruby-identifier">query</span><span class="ruby-operator">:</span> <span class="ruby-identifier">new_query</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  

  
</div>

        
          <div id="reload-21-method" class="method ">
  <a name="method-i-reload-21"></a>

  
    <h4>
      <code>reload!()</code>
      <span>
        <a href="#method-i-reload-21">&para;</a>
        <a href="#top">&uarr;</a>
      </span>
    </h4>
  

  <div class="method-description">
    
      <p>Reloads the table with current data from the BigQuery service.</p>
    

    
      <!-- <div class="method-source-code" id="reload-21-source">
<pre class="ruby"><span class="ruby-comment"># File lib/gcloud/bigquery/view.rb, line 375</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reload!</span>
  <span class="ruby-identifier">ensure_connection!</span>
  <span class="ruby-identifier">resp</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">get_table</span> <span class="ruby-identifier">dataset_id</span>, <span class="ruby-identifier">table_id</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">success?</span>
    <span class="ruby-ivar">@gapi</span> = <span class="ruby-identifier">resp</span>.<span class="ruby-identifier">data</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">fail</span> <span class="ruby-constant">ApiError</span>.<span class="ruby-identifier">from_response</span>(<span class="ruby-identifier">resp</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
      </div> -->
    
  </div>

  
    <div class="aliases">
      Also aliased as: <a href="View.html#method-i-refresh-21">refresh!</a>
    </div>
  

  
</div>

        
      </div>
    </div>
  



          
        
      </section>

      <nav class="side-nav">
        
<div class="side-nav--meta">
  <div id="doc-build-date">
    Docs built on Aug 27, 2015.
  </div>
</div>

<ul>
  <h4 class="list-item--heading">Getting Started</h4>
  <li class="toc-l0"><a class="reference internal" href="../../index.html">Overview</a></li>
  
    <li class="toc-l0"><a class="reference internal" href="../../AUTHENTICATION.md">Authentication Guide</a></li>
  
</ul>

<ul>
  <h4 class="list-item--heading">API</h4>
  
      <li class="toc-l0">
        <a class="reference internal" href="../../Gcloud.html">
          Gcloud
        </a>
      </li>
      
  
      <li class="toc-l0">
        <a class="reference internal" href="../Bigquery.html">
          BigQuery
        </a>
      </li>
      
        <li class="toc-l1">
          <a class="reference internal" href="Project.html">
            Project
          </a>
        </li>
      
        <li class="toc-l1">
          <a class="reference internal" href="Dataset.html">
            Dataset
          </a>
        </li>
      
        <li class="toc-l1">
          <a class="reference internal" href="Job.html">
            Job
          </a>
        </li>
      
        <li class="toc-l1">
          <a class="reference internal" href="Table.html">
            Table
          </a>
        </li>
      
  
      <li class="toc-l0">
        <a class="reference internal" href="../Datastore.html">
          Datastore
        </a>
      </li>
      
  
      <li class="toc-l0">
        <a class="reference internal" href="../Pubsub.html">
          Pub/Sub
        </a>
      </li>
      
  
      <li class="toc-l0">
        <a class="reference internal" href="../Storage.html">
          Storage
        </a>
      </li>
      
  
  <li class="toc-l0"><a class="reference internal" href="../../reference.html">API Reference</a></li>
</ul>

<ul class="external-links">
  <li>
    <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby" title="Github repository">
      <img src="/gcloud-ruby/img/icon-link-github.svg" alt="Github icon">
      Github
    </a>
  </li>
  <li>
    <a href="https://github.com/GoogleCloudPlatform/gcloud-ruby/issues" title="Issues on Github">
      <img src="/gcloud-ruby/img/icon-link-issues.svg" alt="Issues icon">
      Issues
    </a>
  </li>
  <li>
    <a href="http://stackoverflow.com/questions/tagged/gcloud-ruby" title="gcloud on StackOverflow">
      <img src="/gcloud-ruby/img/icon-link-stackoverflow.svg" alt="StackOverflow icon">
      StackOverflow
    </a>
  </li>
  <li>
    <a href="http://rubygems.org/gems/gcloud" title="RubyGems" class="ext-link">
       <img src="/gcloud-ruby/img/icon-link-rubygems.svg" alt="RubyGems icon">
      RubyGems
    </a>
  </li>
</ul>

      </nav>

    </article>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script ="/gcloud-ruby/js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
<script src="/gcloud-ruby/js/plugins.js"></script>
<script src="/gcloud-ruby/js/main.js"></script>

<script>
  (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
  function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
  e=o.createElement(i);r=o.getElementsByTagName(i)[0];
  e.src='//www.google-analytics.com/analytics.js';
  r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
  ga('create','UA-49880327-13');ga('send','pageview');
</script>


  </body>
</html>
