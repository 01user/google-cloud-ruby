{"id":"google/cloud/bigtable/instance","name":"Instance","title":["Google","Cloud","Bigtable","Instance"],"description":"<h1 id=\"instance\">Instance</h1>\n\n<p>Represents a Bigtable instance. Instances are dedicated Bigtable\nserving and storage resources to be used by Bigtable tables.</p>\n\n<p>See Google::Cloud::Bigtable::Project#instances,\nGoogle::Cloud::Bigtable::Project#instance, and\nGoogle::Cloud::Bigtable::Project#create_instance.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L61","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\njob = bigtable.create_instance(\n  \"my-instance\",\n  \"Instance for user data\",\n  type: :DEVELOPMENT,\n  labels: { \"env\" => \"dev\"}\n) do |clusters|\n  clusters.add(\"test-cluster\", \"us-east1-b\", nodes: 1)\nend\n\njob.done? #=> false\n\n# To block until the operation completes.\njob.wait_until_done!\njob.done? #=> true\n\nif job.error?\n  status = job.error\nelse\n  instance = job.instance\nend"}],"methods":[{"id":"project_id-instance","type":"instance","name":"project_id","title":["Google","Cloud","Bigtable","Instance#project_id"],"description":"<p>The unique identifier for the project.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L78","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"instance_id-instance","type":"instance","name":"instance_id","title":["Google","Cloud","Bigtable","Instance#instance_id"],"description":"<p>The unique identifier for the instance.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L86","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"display_name-instance","type":"instance","name":"display_name","title":["Google","Cloud","Bigtable","Instance#display_name"],"description":"<p>The descriptive name for this instance as it appears in UIs. Must be\nunique per project and between 4 and 30 characters in length.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L95","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"display_name=-instance","type":"instance","name":"display_name=","title":["Google","Cloud","Bigtable","Instance#display_name="],"description":"<p>Updates the descriptive name for this instance as it appears in UIs.\nCan be changed at any time, but should be kept globally unique\nto avoid confusion.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L105","resources":[],"examples":[],"params":[{"name":"value","types":["String"],"description":"The descriptive name for this instance.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"path-instance","type":"instance","name":"path","title":["Google","Cloud","Bigtable","Instance#path"],"description":"<p>The full path for the instance resource. Values are of the form\n<code>projects/&lt;project_id&gt;/instances/&lt;instance_id&gt;</code>.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L114","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"state-instance","type":"instance","name":"state","title":["Google","Cloud","Bigtable","Instance#state"],"description":"<p>The current instance state. Possible values are <code>:CREATING</code>,\n<code>:READY</code>, <code>:STATE_NOT_KNOWN</code>.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L123","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Symbol"],"description":""}]},{"id":"ready?-instance","type":"instance","name":"ready?","title":["Google","Cloud","Bigtable","Instance#ready?"],"description":"<p>The instance has been successfully created and can serve requests\nto its tables</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L132","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"creating?-instance","type":"instance","name":"creating?","title":["Google","Cloud","Bigtable","Instance#creating?"],"description":"<p>The instance is currently being created, and may be destroyed if the\ncreation process encounters an error.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L141","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"type-instance","type":"instance","name":"type","title":["Google","Cloud","Bigtable","Instance#type"],"description":"<p>Instance type. Possible values are <code>:DEVELOPMENT</code>, <code>:PRODUCTION</code>,\n<code>:TYPE_UNSPECIFIED</code></p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L150","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Symbol"],"description":""}]},{"id":"development?-instance","type":"instance","name":"development?","title":["Google","Cloud","Bigtable","Instance#development?"],"description":"<p>The instance is meant for development and testing purposes only; it has\nno performance or uptime guarantees and is not covered by SLA.\nAfter a development instance is created, it can be upgraded by\nupdating the instance to type <code>PRODUCTION</code>. An instance created\nas a production instance cannot be changed to a development instance.\nWhen creating a development instance, <code>serve_nodes</code> on the cluster must\nnot be set.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L164","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"production?-instance","type":"instance","name":"production?","title":["Google","Cloud","Bigtable","Instance#production?"],"description":"<p>An instance meant for production use. <code>serve_nodes</code> must be set\non the cluster.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L173","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"type=-instance","type":"instance","name":"type=","title":["Google","Cloud","Bigtable","Instance#type="],"description":"<p>Set instance type.</p>\n\n<p>Valid values are <code>:DEVELOPMENT</code>, <code>:PRODUCTION</code>.\nIf instance already created then After a development instance is\ncreated, it can be upgraded by updating the instance to type <code>PRODUCTION</code>.\nAn instance created as a production instance cannot be changed to a\ndevelopment instance.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L187","resources":[],"examples":[],"params":[{"name":"instance_type","types":["Symbol"],"description":"","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"labels-instance","type":"instance","name":"labels","title":["Google","Cloud","Bigtable","Instance#labels"],"description":"<p>Get instance labels.</p>\n\n<p>Cloud Labels are a flexible and lightweight mechanism for organizing\ncloud resources into groups that reflect a customer’s organizational\nneeds and deployment strategies. Cloud Labels can be used to filter\ncollections of resources. They can be used to control how resource\nmetrics are aggregated. And they can be used as arguments to policy\nmanagement rules (e.g. route, firewall, load balancing, etc.).</p>\n\n<ul>\n  <li>Label keys must be between 1 and 63 characters long and must conform\nto the following regular expression: <code>[a-z]([-a-z0-9]*[a-z0-9])?</code>.</li>\n  <li>Label values must be between 0 and 63 characters long and must\nconform to the regular expression <code>([a-z]([-a-z0-9]*[a-z0-9])?)?</code>.</li>\n  <li>No more than 64 labels can be associated with a given resource.</li>\n</ul>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L208","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Hash{String=&gt;String}"],"description":"The label keys and values in a hash."}]},{"id":"labels=-instance","type":"instance","name":"labels=","title":["Google","Cloud","Bigtable","Instance#labels="],"description":"<p>Set the Cloud Labels.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L216","resources":[],"examples":[],"params":[{"name":"labels","types":["Hash{String=>String}"],"description":"The Cloud Labels.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"save-instance","type":"instance","name":"save","title":["Google","Cloud","Bigtable","Instance#save"],"description":"<p>Update instance.</p>\n\n<p>Updatable attributes are :</p>\n<ul>\n  <li><code>display_name</code> - The descriptive name for this instance.</li>\n  <li><code>type</code> -  <code>:DEVELOPMENT</code> type instance can be upgraded to <code>:PRODUCTION</code> instance.\nAn instance created as a production instance cannot be changed to a development instance.</li>\n  <li><code>labels</code> - Cloud Labels are a flexible and lightweight mechanism for organizing cloud resources.</li>\n</ul>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L259","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\ninstance.display_name = \"My app dev instance\"  # Set display name\ninstance.labels = { env: \"dev\", data: \"users\" }\njob = instance.save\n\njob.done? #=> false\n\n# Reload job until completion.\njob.wait_until_done!\njob.done? #=> true\n\nif job.error?\n  puts job.error\nelse\n  instance = job.instance\n  puts instance.name\n  puts instance.labels\nend"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/instance/job\">Google::Cloud::Bigtable::Instance::Job</a>"],"description":"The job representing the long-running, asynchronous processing of\nan instance update operation."}]},{"id":"reload!-instance","type":"instance","name":"reload!","title":["Google","Cloud","Bigtable","Instance#reload!"],"description":"<p>Reload instance information.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L273","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/instance\">Google::Cloud::Bigtable::Instance</a>"],"description":""}]},{"id":"delete-instance","type":"instance","name":"delete","title":["Google","Cloud","Bigtable","Instance#delete"],"description":"<p>Permanently deletes the instance from a project.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L290","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\ninstance.delete"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code>true</code> if the instance was deleted."}]},{"id":"clusters-instance","type":"instance","name":"clusters","title":["Google","Cloud","Bigtable","Instance#clusters"],"description":"<p>Lists information about clusters in an instance.</p>\n\n<p>See to delete Google::Cloud::Bigtable::Cluster#delete and update\n cluster Google::Cloud::Bigtable::Cluster#save.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L318","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\ninstance.clusters.all do |cluster|\n  puts cluster.cluster_id\nend"}],"params":[{"name":"token","types":["String"],"description":"The <code>token</code> value returned by the last call to\n<code>clusters</code>; indicates that this is a continuation of a call,\nand that the system should return the next page of data.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/bigtable/cluster\">Google::Cloud::Bigtable::Cluster</a>&gt;"],"description":"See(<a data-custom-type=\"google/cloud/bigtable/cluster/list\">Google::Cloud::Bigtable::Cluster::List</a>)"}]},{"id":"cluster-instance","type":"instance","name":"cluster","title":["Google","Cloud","Bigtable","Instance#cluster"],"description":"<p>Gets cluster information.</p>\n\n<p>See to delete Google::Cloud::Bigtable::Cluster#delete and update\n cluster Google::Cloud::Bigtable::Cluster#save.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L342","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\ncluster = instance.cluster(\"my-instance-cluster\")\nputs cluster.cluster_id"}],"params":[{"name":"cluster_id","types":["String"],"description":"The unique ID of the requested cluster.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/cluster\">Google::Cloud::Bigtable::Cluster</a>","nil"],"description":""}]},{"id":"create_cluster-instance","type":"instance","name":"create_cluster","title":["Google","Cloud","Bigtable","Instance#create_cluster"],"description":"<p>Creates a cluster within an instance.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L395","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\njob = instance.create_cluster(\n  \"my-new-cluster\",\n  \"us-east-1b\",\n  nodes: 3,\n  storage_type: :SSD\n)\n\njob.done? #=> false\n\n# To block until the operation completes.\njob.wait_until_done!\njob.done? #=> true\n\nif job.error?\n  status = job.error\nelse\n  cluster = job.cluster\nend"}],"params":[{"name":"cluster_id","types":["String"],"description":"The ID to be used when referring to the new cluster within its instance,\ne.g., just +mycluster+","optional":false,"nullable":false},{"name":"location","types":["String"],"description":"The location where this cluster’s nodes and storage reside. For best\nperformance, clients should be located as close as possible to this\ncluster. Currently only zones are supported.\ni.e “us-east-1b”","optional":false,"nullable":false},{"name":"nodes","types":["Integer"],"description":"The number of nodes allocated to this cluster.\nMore nodes enable higher throughput and more consistent performance.","optional":true,"default":"nil","nullable":true},{"name":"storage_type","types":["Symbol"],"description":"Type of storage type.\nThe type of storage used by this cluster to serve its\nparent instance’s tables.\nValid types are:</p>\n<ul>\n  <li><code>:SSD</code> - Flash (SSD) storage.</li>\n  <li><code>:HDD</code> - Magnetic drive (HDD).</li>\n</ul>","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/cluster/job\">Google::Cloud::Bigtable::Cluster::Job</a>"],"description":""}]},{"id":"tables-instance","type":"instance","name":"tables","title":["Google","Cloud","Bigtable","Instance#tables"],"description":"<p>List all tables.</p>\n\n<p>See to delete table Google::Cloud::Bigtable::Table#delete and update\n table Google::Cloud::Bigtable::Table#save.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L442","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\n# Default name only view\ninstance.tables.all do |table|\n  puts table.name\nend\n\n# Full view\ninstance.tables(view: :FULL).all do |table|\n  puts table.name\n  puts table.column_families\nend"}],"params":[{"name":"view","types":["Symbol"],"description":"The view to be applied to the returned tables’ fields\nDefaults to <code>NAME_ONLY</code> if unspecified.\nValid view types are.</p>\n<ul>\n  <li><code>:NAME_ONLY</code> - Only populates <code>name</code></li>\n  <li><code>:SCHEMA_VIEW</code> - Only populates <code>name</code> and fields related to the table’s schema</li>\n  <li><code>:REPLICATION_VIEW</code> - Only populates <code>name</code> and fields related to the table’s replication state.</li>\n  <li><code>:FULL</code> - Populates all fields</li>\n</ul>","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/bigtable/table\">Google::Cloud::Bigtable::Table</a>&gt;"],"description":"(See <a data-custom-type=\"google/cloud/bigtable/table/list\">Google::Cloud::Bigtable::Table::List</a>)"}]},{"id":"table-instance","type":"instance","name":"table","title":["Google","Cloud","Bigtable","Instance#table"],"description":"<p>Get metadata information of table.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L477","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\n# Default view is full view\ntable = instance.table(\"my-table\")\nputs table.name\nputs table.column_families\n\n# Name only view\ntable = instance.table(\"my-table\", view: :NAME_ONLY)\nputs table.name"}],"params":[{"name":"view","types":["Symbol"],"description":"The view to be applied to the returned tables’ fields\nDefaults to <code>SCHEMA_VIEW</code> if unspecified.\nValid view types are.</p>\n<ul>\n  <li><code>:NAME_ONLY</code> - Only populates <code>name</code></li>\n  <li><code>:SCHEMA_VIEW</code> - Only populates <code>name</code> and fields related to the table’s schema</li>\n  <li><code>:REPLICATION_VIEW</code> - Only populates <code>name</code> and fields related to the table’s replication state.</li>\n  <li><code>:FULL</code> - Populates all fields</li>\n</ul>","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/table\">Google::Cloud::Bigtable::Table</a>"],"description":""}]},{"id":"create_table-instance","type":"instance","name":"create_table","title":["Google","Cloud","Bigtable","Instance#create_table"],"description":"<p>Create table</p>\n\n<p>The table can be created with a full set of initial column families,\nspecified in the request.</p>","source":"google-cloud-bigtable/lib/google/cloud/bigtable/instance.rb#L559","resources":[],"examples":[{"caption":"<p>Create table without column families.</p>","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\ntable = instance.create_table(\"my-table\")\nputs table.name"},{"caption":"<p>Create table with column families and initial splits.</p>","code":"require \"google/cloud/bigtable\"\n\nbigtable = Google::Cloud::Bigtable.new\n\ninstance = bigtable.instance(\"my-instance\")\n\ntable = instance.create_table(my-table\") do |column_families|\n  column_families.add('cf1', Google::Cloud::Bigtable::GcRule.max_versions(3))\n  column_families.add('cf2', Google::Cloud::Bigtable::GcRule.max_age(100))\n\n  gc_rule = Google::Cloud::Bigtable::GcRule.new\n  gc_rule.union = [\n    Google::Cloud::Bigtable::GcRule.max_versions(3),\n     Google::Cloud::Bigtable::GcRule.max_age(1800),\n  ]\n  column_families.add('cf3', gc_rule)\nend\n\nputs table"}],"params":[{"name":"name","types":["String"],"description":"The name by which the new table should be referred to within the parent\ninstance, e.g., +foobar+","optional":false,"nullable":false},{"name":"column_families","types":["Hash{String => Google::Cloud::Bigtable::ColumnFamily}"],"description":"(See <a data-custom-type=\"google/cloud/bigtable/table/columnfamilymap\">Google::Cloud::Bigtable::Table::ColumnFamilyMap</a>)\nIf passed as an empty use code block to add column families.","optional":true,"default":"nil","nullable":true},{"name":"granularity","types":["Symbol"],"description":"The granularity at which timestamps are stored in this table.\nTimestamps not matching the granularity will be rejected.\nValid values are <code>:MILLIS</code>.\nIf unspecified, the value will be set to <code>:MILLIS</code>","optional":true,"default":"nil","nullable":true},{"name":"initial_splits","types":["Array<String>"],"description":"The optional list of row keys that will be used to initially split the\ntable into several tablets (tablets are similar to HBase regions).\nGiven two split keys, +s1+ and +s2+, three tablets will be created,\nspanning the key ranges: +[, s1), [s1, s2), [s2, )+.</p>\n\n<p>Example:</p>\n\n<ul>\n  <li>Row keys := +[“a”, “apple”, “custom”, “customer_1”, “customer_2”,+\n+”other”, “zz”]+</li>\n  <li>initial_split_keys := +[“apple”, “customer_1”, “customer_2”, “other”]+</li>\n  <li>Key assignment:\n    <ul>\n      <li>Tablet 1 : +[, apple)                =&gt; “a”.+</li>\n      <li>Tablet 2 : +[apple, customer_1)      =&gt; “apple”,.+</li>\n      <li>Tablet 3 : +[customer_1, customer_2) =&gt; “customer_1”.+</li>\n      <li>Tablet 4 : +[customer_2, other)      =&gt; “customer_2”.+</li>\n      <li>Tablet 5 : +[other, )                =&gt; “other”,.+\nA hash of the same form as <code>Google::Bigtable::Admin::V2::CreateTableRequest::Split</code>\ncan also be provided.</li>\n    </ul>\n  </li>\n</ul>","optional":true,"default":"nil","nullable":true},{"name":"yield","types":["block"],"description":"A block for adding column_families.","optional":true,"nullable":false},{"name":"yield.Cluster","types":["Hash{String => Google::Cloud::Bigtable::ColumnFamily}"],"description":"map of cluster name and cluster object.\n(See <a data-custom-type=\"google/cloud/bigtable/instance/clustermap\">Google::Cloud::Bigtable::Instance::ClusterMap</a>)\nGC Rules for column family see <a data-custom-type=\"google/cloud/bigtable/gcrule\">Google::Cloud::Bigtable::GcRule</a>)","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/bigtable/table\">Google::Cloud::Bigtable::Table</a>"],"description":""}]}]}